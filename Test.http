########################################
# ğŸ“ user.http - Tests API Users
########################################

@baseUrl = http://localhost:3001
@token = YOUR_TOKEN_HERE
@adminToken = YOUR_ADMIN_TOKEN_HERE

### ğŸ‘¤ RÃ©cupÃ©rer mon profil
GET {{baseUrl}}/users/profile
Authorization: Bearer {{token}}

### ğŸ“Š Mes statistiques
GET {{baseUrl}}/users/stats
Authorization: Bearer {{token}}

### âœï¸ Mettre Ã  jour mon profil
PATCH {{baseUrl}}/users/profile
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Jean Dupont Updated",
  "phone": "+237699999999",
  "avatar": "https://example.com/avatar.jpg"
}

### ğŸ”’ Changer mon mot de passe
PUT {{baseUrl}}/users/password
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "currentPassword": "oldPassword123",
  "newPassword": "newPassword123"
}

### ğŸ—‘ï¸ Supprimer mon compte
DELETE {{baseUrl}}/users/account
Authorization: Bearer {{token}}

### ğŸ‘¥ Tous les utilisateurs (ADMIN)
GET {{baseUrl}}/users
Authorization: Bearer {{adminToken}}

### ğŸ‘¤ Un utilisateur par ID (ADMIN)
GET {{baseUrl}}/users/user-id-here
Authorization: Bearer {{adminToken}}

### ğŸ­ Changer le rÃ´le d'un utilisateur (SUPER)
PATCH {{baseUrl}}/users/user-id-here/role
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "role": "ADMIN"
}

### ğŸ—‘ï¸ Supprimer un utilisateur (SUPER)
DELETE {{baseUrl}}/users/user-id-here
Authorization: Bearer {{adminToken}}


########################################
# ğŸ“ auth.http - Tests API Auth
########################################

@baseUrl = http://localhost:3001

### ğŸ“ S'inscrire
POST {{baseUrl}}/auth/register
Content-Type: application/json

{
  "name": "Jean Dupont",
  "email": "jean@test.cm",
  "phone": "+237699123456",
  "password": "password123"
}

### ğŸ” Se connecter
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "admin@patisserie.com",
  "password": "Admin-patisserie!"
}

### ğŸ” Se connecter (User)
POST {{baseUrl}}/auth/login
Content-Type: application/json

{
  "email": "jean@test.cm",
  "password": "password123"
}


########################################
# ğŸ“ products.http - Tests API Products
########################################

@baseUrl = http://localhost:3001
@token = YOUR_TOKEN_HERE
@adminToken = YOUR_ADMIN_TOKEN_HERE

### ğŸ“‹ Tous les produits (Public)
GET {{baseUrl}}/products

### ğŸ“‹ Produits par catÃ©gorie
GET {{baseUrl}}/products?category=GÃ¢teaux

### ğŸ“‹ Produits disponibles
GET {{baseUrl}}/products?available=true

### â­ Produits les plus aimÃ©s
GET {{baseUrl}}/products/most-liked?limit=5

### ğŸ” Un produit par ID
GET {{baseUrl}}/products/product-id-here

### â• CrÃ©er un produit (ADMIN)
POST {{baseUrl}}/products
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "name": "Ã‰clair au chocolat",
  "description": "DÃ©licieux Ã©clair garni de crÃ¨me pÃ¢tissiÃ¨re",
  "price": 1500,
  "category": "Viennoiseries",
  "stock": 20,
  "available": true
}

### âœï¸ Modifier un produit (ADMIN)
PATCH {{baseUrl}}/products/product-id-here
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "name": "Ã‰clair au chocolat Premium",
  "price": 2000,
  "stock": 15
}

### ğŸ—‘ï¸ Supprimer un produit (ADMIN)
DELETE {{baseUrl}}/products/product-id-here
Authorization: Bearer {{adminToken}}

### â¤ï¸ Liker un produit (Public)
POST {{baseUrl}}/products/product-id-here/like


########################################
# ğŸ“ cart.http - Tests API Cart
########################################

@baseUrl = http://localhost:3001
@token = YOUR_TOKEN_HERE
@cartId = YOUR_CART_ID_HERE
@productId = YOUR_PRODUCT_ID_HERE

### ğŸ›’ Obtenir/CrÃ©er un panier (Visiteur)
GET {{baseUrl}}/cart?cartId={{cartId}}

### ğŸ›’ Obtenir/CrÃ©er mon panier (ConnectÃ©)
GET {{baseUrl}}/cart
Authorization: Bearer {{token}}

### â• Ajouter un produit au panier (Visiteur)
POST {{baseUrl}}/cart/items?cartId={{cartId}}
Content-Type: application/json

{
  "productId": "{{productId}}",
  "quantity": 2,
  "note": "Sans sucre ajoutÃ©"
}

### â• Ajouter un produit au panier (ConnectÃ©)
POST {{baseUrl}}/cart/items
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "productId": "{{productId}}",
  "quantity": 1,
  "note": "Avec glaÃ§age chocolat"
}

### âœï¸ Modifier un item du panier
PATCH {{baseUrl}}/cart/items/cart-item-id-here
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "quantity": 3,
  "note": "Message: Joyeux anniversaire"
}

### ğŸ—‘ï¸ Supprimer un item du panier
DELETE {{baseUrl}}/cart/items/cart-item-id-here
Authorization: Bearer {{token}}

### ğŸ—‘ï¸ Vider le panier
DELETE {{baseUrl}}/cart/cart-id-here/clear
Authorization: Bearer {{token}}

### ğŸ’¾ Sauvegarder le panier
POST {{baseUrl}}/cart/cart-id-here/save
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "name": "Mon panier anniversaire"
}

### ğŸ“‹ Mes paniers sauvegardÃ©s
GET {{baseUrl}}/cart/user/all
Authorization: Bearer {{token}}

### ğŸ”€ Fusionner panier temporaire
POST {{baseUrl}}/cart/merge
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "tempCartId": "temp-cart-id-here"
}


########################################
# ğŸ“ orders.http - Tests API Orders
########################################

@baseUrl = http://localhost:3001
@token = YOUR_TOKEN_HERE
@adminToken = YOUR_ADMIN_TOKEN_HERE
@productId = YOUR_PRODUCT_ID_HERE

### ğŸ“¦ CrÃ©er une commande
POST {{baseUrl}}/orders
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "deliveryName": "Jean Dupont",
  "deliveryPhone": "+237699123456",
  "deliveryAddress": "Douala, Akwa, Rue 123",
  "paymentMethod": "Mobile Money",
  "items": [
    {
      "productId": "{{productId}}",
      "quantity": 1,
      "note": "Message: Joyeux anniversaire Marie"
    }
  ]
}

### ğŸ“¦ CrÃ©er une commande programmÃ©e
POST {{baseUrl}}/orders
Authorization: Bearer {{token}}
Content-Type: application/json

{
  "deliveryName": "Sophie Martin",
  "deliveryPhone": "+237677654321",
  "deliveryAddress": "YaoundÃ©, Bastos",
  "scheduledAt": "2026-01-15T14:00:00Z",
  "paymentMethod": "Cash",
  "items": [
    {
      "productId": "{{productId}}",
      "quantity": 2
    }
  ]
}

### ğŸ“‹ Mes commandes
GET {{baseUrl}}/orders/my-orders
Authorization: Bearer {{token}}

### ğŸ“‹ Toutes les commandes (ADMIN)
GET {{baseUrl}}/orders
Authorization: Bearer {{adminToken}}

### ğŸ“‹ Commandes par statut (ADMIN)
GET {{baseUrl}}/orders?status=PENDING
Authorization: Bearer {{adminToken}}

### â³ Commandes en attente (ADMIN)
GET {{baseUrl}}/orders/pending
Authorization: Bearer {{adminToken}}

### ğŸ“… Commandes programmÃ©es (ADMIN)
GET {{baseUrl}}/orders/scheduled
Authorization: Bearer {{adminToken}}

### ğŸ” Une commande spÃ©cifique
GET {{baseUrl}}/orders/order-id-here
Authorization: Bearer {{token}}

### âœï¸ Modifier le statut d'une commande (ADMIN)
PATCH {{baseUrl}}/orders/order-id-here/status
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "status": "CONFIRMED",
  "notes": "Commande confirmÃ©e. PrÃªte demain Ã  10h.",
  "isPaid": true
}

### âœï¸ Passer en prÃ©paration (ADMIN)
PATCH {{baseUrl}}/orders/order-id-here/status
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "status": "PREPARING",
  "notes": "Commande en cours de prÃ©paration"
}

### âœï¸ Marquer comme prÃªte (ADMIN)
PATCH {{baseUrl}}/orders/order-id-here/status
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "status": "READY",
  "notes": "Commande prÃªte pour retrait"
}

### âœï¸ Marquer comme livrÃ©e (ADMIN)
PATCH {{baseUrl}}/orders/order-id-here/status
Authorization: Bearer {{adminToken}}
Content-Type: application/json

{
  "status": "DELIVERED",
  "notes": "Commande livrÃ©e avec succÃ¨s"
}

### âŒ Annuler une commande (USER)
DELETE {{baseUrl}}/orders/order-id-here/cancel
Authorization: Bearer {{token}}


########################################
# ğŸ“ favorites.http - Tests API Favorites
########################################

@baseUrl = http://localhost:3001
@token = YOUR_TOKEN_HERE
@adminToken = YOUR_ADMIN_TOKEN_HERE
@productId = YOUR_PRODUCT_ID_HERE

### â¤ï¸ Toggle favorite (Ajouter/Retirer)
POST {{baseUrl}}/favorites/{{productId}}
Authorization: Bearer {{token}}

### ğŸ“‹ Mes favoris
GET {{baseUrl}}/favorites
Authorization: Bearer {{token}}

### â“ VÃ©rifier si un produit est favori
GET {{baseUrl}}/favorites/{{productId}}
Authorization: Bearer {{token}}

### ğŸ“Š Produits les plus favoris (ADMIN)
GET {{baseUrl}}/favorites/stats/most-favorited?limit=10
Authorization: Bearer {{adminToken}}

### ğŸ—‘ï¸ Supprimer tous mes favoris
DELETE {{baseUrl}}/favorites/clear
Authorization: Bearer {{token}}